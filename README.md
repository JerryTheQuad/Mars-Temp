# Mars Temp

Небольшое веб-приложение, которое показывает температуру на Марсе на основе данных NASA Mars Explorer.

## Бесплатный хостинг (рекомендуемый)

### Вариант: Cloudflare Pages + Pages Functions (free tier)

Почему это удобно:
- Бесплатный статический хостинг для `index.html`, `styles.css`, `app.js`.
- Бесплатная serverless-функция `/api/temperature` для проксирования NASA.
- Можно держать **глобальный лимит обновления NASA = 1 раз в час** через кэш на edge.

### Как задеплоить

1. Залейте репозиторий в GitHub.
2. В Cloudflare Pages создайте проект из этого репозитория.
3. Build command: пусто (или `echo "no build"`).
4. Build output directory: `/`.
5. После деплоя страница будет доступна по домену вида `*.pages.dev`.

## Как работает защита от слишком частых обновлений

Схема реализована в `functions/api/temperature.js`:

- Фронтенд (`app.js`) запрашивает **только** `/api/temperature`, а не NASA напрямую.
- Функция запрашивает NASA (`Tair` + `Tsurf`) и складывает ответ в edge-cache.
- TTL кэша: `3600` секунд (1 час).
- Все пользователи в течение часа получают кэшированный ответ; повторный запрос не дёргает NASA.

Итог:
- Нельзя «накликать» обновления и устроить частый опрос NASA.
- Даже если один пользователь спамит кнопку, источник обновится не чаще 1 раза в час.

## Локальный запуск

```bash
python3 -m http.server 4173
```

> Для полноценной проверки `/api/temperature` нужен запуск в среде Pages Functions (например, через `wrangler pages dev`).
